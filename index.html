<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Grafischer Workflow-Planer mit integriertem Formular-Editor</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/white.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section id="titlefolie">
				<h3>Grafischer Workflow-Planer mit integriertem Formular-Editor</h3>
				<p>Vorstellung der Masterarbeit von Wilko Müller am 01.Juni 2022</p>
			</section>
			<section id="motivation">
				<h3>Motivation</h3>
				<section>
					<ul>
						<li>Pandemie führt zur Zunahme bei der Digitalisierung von Arbeitsabläufen</li>
						<li>Webanwendungen können Arbeitsabläufe unterstützen</li>
						<li>Erstellung solcher Webanwendungen erfordert:</li>
						<ul>
							<li class="fragment">Programmierkenntnisse</li>
							<li class="fragment">Wissen über Tools und Frameworks</li>
							<li class="fragment">Sachverstand über das Anwendungsszenario</li>
						</ul>
					</ul>
					<aside class="notes">
						- Webanwendungen sind mehr als einfache Webseite z.B.: Testatverwaltungstool, Google Forms, 
						- mit Interaktionmöglichkeiten
					</aside>
				</section>
				<section>
					<strong>Webanwendungen können nur von Programmierer:innen angefertigt werden!</strong>
				</section>
			</section>
			<section id="anforderungen">
				<h3>Anforderungen</h3>
				<section>
					<ul>
						<li>Entwicklungsprozess soweit vereinfachen, dass</li>
						<ul>
							<li class="fragment">kaum Programmierkenntnisse erforderlich sind.</li>
							<li class="fragment">eine Low-Code bis No-Code Umgebung entsteht.</li>
						</ul>
					</ul>
				</section>
				<section>
					<p><strong>Beobachtung:</strong></p>
					<p></strong>Interaktion erfolgt durch <strong>Formulare</strong> & <strong>E-Mails</strong></p>
					<aside class="notes">
						- Die beiden Hauptkommunikationskanäle in Verwaltungs und organisatorischen Zusammnehängen sind Formulare und E-Mails.
					</aside>
				</section>
				<section>
					<ul>
						<li class="fragment">Editor zur Erstellung von Formularen</li>
						<li class="fragment">Editor zur Erstellung von Workflows</li>
						<li class="fragment">zentrale Abspeicherung von Formularen und Workflows</li>
					</ul>
					<aside class="notes">
						- Formular-Editor zur Erstellung von Datenaufnahme
						- zentrale Abspeicherung ermöglicht Kollaboration
					</aside>
				</section>
			</section>
			<section id="beispielWorkflow">
				<h3>Beispiel-Workflow in BPMN</h3>
				<img data-src="grafiken/BPMNPrüfungsamt.jpg">
				<aside class="notes">
					- Business Process Model and Notation, deutsch Geschäftsprozessmodell und -notation
					- Können Workflows bzw. Arbeitsabläufe mit modelliert werden.
					- Startevent zu Endevent durch Tasks
				</aside>
			</section>
			<section id="lösungsansatz">
				<h3>Lösungsansatz</h3>
				<section>
					<h2>Ziel:</h2>
					<strong>Person mit Sachverstand über das Anwendungsszenario kann die Rolle des Programmierers übernehmen.</strong>
				</section>
				<section style="text-align: left;">
					<p>Zwei Nutzerklassen:</p>
					<ul>
						<li class="fragment"><strong>Workflow-Ersteller*innen</strong></li>
						<li class="fragment"><strong>Formularausfüllende</strong></li>
					</ul>
				</section>
				<section>
					<ul>
						<li>Für Workflow-Ersteller*innen:</li>
						<ul>
							<li class="fragment"><strong>Formular-Editor</strong> mit Drag and Drop Funktion</li>
							<li class="fragment">grafischen <strong>Workflow-Editor</strong> mit Bausteinen und Datenflussverbindungen</li>
						</ul>
					</ul>
					<aside class="notes">
						- Welche Komponenten werden für Workflow-Erstellerinnen benötigt
						- Ein Formulareditor, in dem ein Formular von Grund auf erstellt werden kann.
						- Bausteine stellen grob gesehen einen Task wie in BPMN dar.
						- Die Datenflussverbindungen sind vergleichbar mit den Message-Flows von BPMN.
					</aside>
				</section>
				<section  style="text-align: left;">
					<ul>
						<li>Für Formularausfüllende:</li>
						<ul>
							<li class="fragment"><strong>Web-Formulare</strong></li>
							<li class="fragment">Kontaktaufnahme über <strong>E-Mail</strong></li>
						</ul>
					</ul>
				</section>
			</section>
			<section id="verwandteArbeiten">
				<h3>Verwandte Arbeiten</h3>
				<section>
					
					<h4>Kinto Formbuilder<a target="_blank" rel="noopener noreferrer" href="https://github.com/Kinto/formbuilder"><sup>1</sup></a></h4>
					<ul>
						<li>Formulare lassen sich erstellen und hosten</li>
						<li>ausgefüllte Formulare können abgerufen werden</li>
						<li><strong>keine automatisierten Funktionen auf den Daten möglich</strong></li>
						<li><strong>seit fünf Jahren keine Updates mehr</strong></li>
					</ul>
					<aside class="notes">
						- statt automatisierter Funktionen, können die eingegebenen Daten einfach nur abgefurfen werden.
						- fünf Jahre keine Updates imm Bereich der Webanwendungen gefährlich, da Sicherheitslücken nicht bearbeitet wurden.
					</aside>
				</section>
				<section>
					<h4>Formium<a target="_blank" rel="noopener noreferrer" href="https://formium.io/">
							<sup>2</sup>
						</a>
					</h4>
					<ul>
						<li>Formular-Editor basierend auf FORMIK<a target="_blank" rel="noopener noreferrer" href="https://formik.org/"><sup>3</sup></a></li>
						<li>eine Vielzahl an Möglichkeiten die Daten weiterzuverarbeiten</li>
						<li>bietet die zum Anwendungsfall dieser Arbeit passende Funktionalität</li>
						<li><strong>kommerzielles Produkt und kein Open-Source</strong></li>
					</ul>
					<aside class="notes">
						- da closed source, können keine Anpassungen für den Universitäts Anwendungsfall gemacht werden.
					</aside>
				</section>
			</section>
			<section id="repräsentationFormulare">
				<h3>Repräsentation der Formulare</h3>
				<section>
					<ul>
						<li>Abspeicherung als HTML/JSX realisierbar, allerdings:</li>
						<ul>
							<li class="fragment">keine Validierung der Eingaben möglich</li>
							<li class="fragment">nachträgliche Stil-Anpassungen oder Positionierung schwierig</li>
						</ul>
					</ul>
					<aside class="notes">
						-Wenn man die Forms als HTML abspeichert => schwierig in React einzubinden, da hardcoded (Design und Action handling mit Data Bindings in JavaScript)
					</aside>
				</section>
				<section>
					<h5>Alternativen:</h5>
						<ul>
							<li class="fragment"><a target="_blank" rel="noopener noreferrer" href="https://formik.org/">FORMIK<sup>3</sup></a>:</li>
							<ul>
								<li class="fragment">Weniger Code</li>
								<li class="fragment">Nutzereingaben sind leicht abrufbar</li>
								<li class="fragment">immer noch ziemlich nah an HTML/JSX</li>
							</ul>
							<li class="fragment"><strong>JSONForms</strong><a target="_blank" rel="noopener noreferrer" href="https://jsonforms.io/"><sup>4</sup></a></li>
						</ul>
						<aside class="notes">
							- Formik legt Augenmerk auf einfachen zugriff auf Daten aus den Formularen und Validierung der Eingaben.
						</aside>
				</section>
				<section>
					<h4>JSONForms</h4>
					<ul>
						<li>JSONForms Framework trennt zwischen:</li>
						<ul>
							<li class="fragment">User-Interface Beschreibung in JSON</li>
							<li class="fragment">Datentypen der Felder in JSON-Schema</li>
						</ul>
						<li class="fragment">JSONForms mit React-Renderer kompatibel</li>
						<li class="fragment">Renderer lässt sich modifizieren und erweitern</li>
					</ul>
					<aside class="notes">
						- Da die selbe Repräsentation im Editor und Formular genutzt wird, sind keine weiteren Konvertierungsschritte erforderlich.
						- DDaten können einfach per Onchange event ausgelesen werden. Unabhängig von den genauen Feldern des Formulars.
						- Es lassen sich mit Custom Renderer auch Sterne oder so darstellen, die man dann wie ein Rating benutzen kann
					</aside>
				</section>
				<section>
					<h5><strong><u>Vorteil</u>: Ermöglicht selbe Repräsentation im Editor und im fertigen Formular</strong></h5>
				</section>
				<section>
					<h4>Live-Demo Formular-Editor</h4>
				</section>
				<section>
					<iframe class="r-stretch" data-src="http://localhost:1234/formeditor" data-preload></iframe>
				</section>
				<section>
					<h5>User-Interface Beschreibung:</h5>
					<pre><code data-trim>
						{
							"type": "VerticalLayout",
							"elements": [
							  {
								"type": "Label",
								"text": "Formular zur Abfrage einiger Daten"
							  },
							  {
								"type": "HorizontalLayout",
								"elements": [
								  {
									"type": "Control",
									"scope": "#/properties/Text",
									"label": "Vorname"
								  },
								  {
									"type": "Control",
									"scope": "#/properties/Text",
									"label": "Nachname"
								  }
								]
							  },
							  {
								"type": "HorizontalLayout",
								"elements": [
								  {
									"type": "Control",
									"scope": "#/properties/Text",
									"label": "E-Mail"
								  },
								  {
									"type": "Control",
									"scope": "#/properties/Checkbox",
									"label": "Ja, ich möchte E-Mails diesbezüglich erhalten"
								  }
								]
							  },
							  {
								"type": "Control",
								"scope": "#/properties/Datumseingabe",
								"label": "Abholtermin"
							  }
							]
						  }
					</code></pre>
					<aside class="notes">
						-UI-Schema beschreibt die Formatierung
					</aside>
				</section>
				<section>
					<h5>Daten-Schema:</h5>
					<pre><code data-trim>
						{
							"type": "object",
							"title": "Formularbausteine",
							"properties": {
							  "Datumseingabe": {
								"type": "string",
								"format": "date"
							  },
							  "Uhrzeit": {
								"type": "string",
								"format": "time"
							  },
							  "Datum & Uhrzeit": {
								"type": "string",
								"format": "date-time",
								"schreibmodus": "readonly"
							  },
							  "Nummer": {
								"type": "number"
							  },
							  "Checkbox": {
								"type": "boolean"
							  },
							  "Text": {
								"type": "string",
								"minLength": 2
							  }
							}
						  }
					</code></pre>
					<aside class="notes">
						UMSCHALTEN nach rechts
					</aside>
				</section>
				<section>
					<img data-src="grafiken/FormularEditor.png" width="595" height="464">
					<p>Formular aus Sicht der erstellenden Person</p>
				</section>
				<section>
					<img data-src="grafiken/FormularEditorPreview.png">
					<p>Formular aus Sicht der ausfüllenden Person</p>
				</section>
			</section>
			<section id="dragDropBrowser">
				<section>
						<h3>Herausforderung:</h3>
					<h4>Drag and Drop im Browser</h4>
						<ul>
						<li class="fragment">Ersten Formular-Editor Prototype mit <strong>ReactDnD</strong><a target="_blank" rel="noopener noreferrer" href="https://react-dnd.github.io/react-dnd/about"><sup>5</sup></a> umgesetzt</li>
						<ul>
							<li class="fragment">Vereinfacht Zustandsänderungen bei Events</li>
							<li class="fragment">Monitor-Connect Logik gewöhnungsbedürftig</li>
							<li class="fragment"><strong>Probleme mit Hooks und zu häufigem Rendering</strong></li>
						</ul>
					</ul>
					<aside class="notes">
						- React DND ist eine weitverbreitete Bibliothek für Drag and Drop
						- Zustandsänderungen sind highlighting beim draggen oder andere Veränderungen der Oberfläche
						- Hooks sind die Alternative bzw. Nachfolger von Klassen im React Framework. Komponenten werden in kleiner Funktionseinheiten unterteilt.
					</aside>
				</section>
				<section>
					<iframe class="r-stretch" data-src="https://react-dnd.github.io/react-dnd/examples/sortable/simple" data-preload></iframe>
				</section>
				<section>
					<h4>Nachteile</h4>
					<ul>
						<li class="fragment">rendert bei jeder kleinsten Mausbewegung neu<a target="_blank" rel="noopener noreferrer" href="https://github.com/react-dnd/react-dnd/issues/592"><sup>6</sup></a></li>
						<li class="fragment">sehr hohe CPU-Last<a target="_blank" rel="noopener noreferrer" href="https://github.com/react-dnd/react-dnd/issues/2621"><sup>7</sup></a></li>
						<li class="fragment"><strong>Deshalb HTML-5 Drag and Drop in React nutzen</strong></li>
					</ul>
				</section>
			</section>
			<section id="darstellungWorkflows">
				<h3>Darstellung der Workflows</h3>
				<section>
					<img data-src="grafiken/BeispielWorkflow.png" width="456" height="511">
				</section>
				<section>
					<ul>
						<li>Drag-and-Drop-Bausteine mit:</li>
						<ul>
							<li class="fragment">Verbindungspunkten (Input/Output)</li>
							<li class="fragment">Baustein-spezifischen Einstellungsmöglichkeiten</li>
						</ul>
						<li class="fragment">Verbindungslinien, die:</li>
						<ul>
							<li class="fragment">zwischen Bausteinen gezogen werden können</li>
							<li class="fragment"> einen Datenfluss darstellen</li>
						</ul>
						<li class="fragment">Technische Umsetzung mit <strong>ReactFlow</strong></li>
					</ul>
					<aside class="notes">
						- Jeder Baustein stellt einen spezielle Funktionalität dar
					</aside>
				</section>
				<section>
					<h3>Live-Demo Workflow-Editor</h3>
				</section>
				<section>
					<iframe class="r-stretch" data-src="http://localhost:1234/workfloweditor" data-preload></iframe>
					<aside class="notes">
						Was passiert jetzt beim absenden des Workflows?
					</aside>
				</section>
				<section>
					<h5>Transformation von GUI-Workflow zu Backend</h5>
					<ul>
						<li>Konvertierung client-seitig</li>
						<ol>
							<li>Grundstruktur für alle Bausteine erstellen</li>
							<li>Baustein-spezifische Einstellungen zuordnen und einfügen</li>
							<li>Grundstruktur für die Verbindungslinien erstellen und Quell-Baustein eintragen</li>
							<li>Im Ziel-Baustein der Verbindungslinien die restlichen Attribute setzen</li>
						</ol>
					</ul>
				</section>
				<section>
					<h5>Generierter Workflow in JSON</h5>
					<pre>
						<code data-trim>
							{
								"components": {
									"inputdndnode_0": {
										"type": "JFormOutput",
										"formId": "44be8c20-dc68-48e0-9347-598faa81298e"
									},
									"dataManipulationdndnode_0": {
										"type": "UDF",
										"code": "def run(x):\\n    return x['string']",
										"outputTypeHint": "String",
										"stream": "inputdndnode_0"
									},
									"dataManipulationdndnode_1": {
										"type": "UDF",
										"code": "def run(x):\\n    return x['date']",
										"outputTypeHint": "Date",
										"stream": "inputdndnode_0"
									},
									"filterdndnode_2": {
										"type": "UDF",
										"filterFields": "date"
									},
									"outputdndnode_3": {
										"type": "Void",
										"stream": "reactflow__edge-inputdndnode_0-dataManipulationdndnode_0"
									},
									"reactflow__edge-inputdndnode_0-dataManipulationdndnode_1": {
										"type": "LeftJoin",
										"stream1": "inputdndnode_0",
										"stream2": "dataManipulationdndnode_1"
									},
									"reactflow__edge-inputdndnode_0-dataManipulationdndnode_0": {
										"type": "LeftJoin",
										"stream1": "inputdndnode_0",
										"stream2": "dataManipulationdndnode_0"
									},
									"reactflow__edge-dataManipulationdndnode_0-filterdndnode_2": {
										"type": "LeftJoin",
										"stream1": "dataManipulationdndnode_0",
										"stream2": "filterdndnode_2"
									},
									"reactflow__edge-dataManipulationdndnode_1-filterdndnode_2": {
										"type": "LeftJoin",
										"stream1": "dataManipulationdndnode_1",
										"stream2": "filterdndnode_2"
									}
								}
							}
						</code>
					</pre>
				</section>
				<section>
					<h5>Das erstellte JSON wird an das Backend gesendet und ausgeführt.</h5>
				</section>
			</section>
			<section id="architektur">
				<h3>Architektur</h3>
				<section>
					<h5>Abspeicherung der Formulare & Workflows</h5>
					<ul>
						<li class="fragment"><strong>Problem:</strong> Verknüpfung zwischen Nutzer*innen & Formularen</li>
						<li class="fragment">Backend soll einziger Speicherort sein</li>
						<li class="fragment"><strong>Lösung:</strong> Frontend-API verknüpft Formular/Workflow <u><strong>ID</strong></u> mit Nutzer <u><strong>ID</strong></u></li>
						<li class="fragment">Mit wenig Aufwand andere Authentifizierungsprovider einbinden</li>
					</ul>
					<aside class="notes">
						- Ich zeige euch eine kleine Übersicht, wo die Formularabspeicherung zusammen mit der Authentifizierung gezeigt werden.
					</aside>
				</section>
				<section>
					<h5>Authentifizierung</h5>
					<ul>
						<li class="fragment">Authentifizierung über Stud.IP</li>
							<ul>
								<li class="fragment">zusätzlicher JSON-Webtoken(JWT)</li>
							</ul>
						<li class="fragment">JWT und Stud.IP-User im Session-Storage des Browsers</li>
					</ul>
					<aside class="notes">
						Json Web Tokens sind gehashte Anmeldeinformationen. Da drin steht unteranderem ein Ablaufdatum des Keys.
					</aside>
				</section>
				<section>
					<img data-src="grafiken/DatenflussAuthentifizierungArchitektur.png">
					<aside class="notes">
						-Ich gehe jetzt mal grob drüber: Workflow-Planer.Webanwenudng ist der Teil der in den Live-Demos gezeigt wurde.
						- Login geht an Workflow-Planer Backend und falls es die erste Anmeldung ist am Workflow-planer.
						- Die Formulare und Workflows werden als ID abgerufen.
						- Die zweite Authentifizierung am Stud.IP Backend erfolgt um Namen, Nutzerbild, usw. abzurufen.
					</aside>
				</section>
			</section>
			<section id="fazit">
				<h3>Fazit</h3>
				<section>
					<ul>
						<li class="fragment">Abfrage von Daten durch Formulare zugänglicher gemacht</li>
						<li class="fragment">Workflows mit Datenfiltern und ggf. Python-Datenverarbeitungsfunktionen gut umsetzbar</li>
						<li class="fragment">Senden von eventbasierten Benachrichtigungen (zu) komplex für Workflow-Ersteller und für Programmierer</li>
					</ul>
					<aside class="notes">
						Für eventbasierte Benachrichtigungen oder andere Events wir dem Workflow-Ersteller Programmiererfahrung abverlangt.
						Und eine Wissen über die Datenstrukturen des Workflow-Generators
						Ein kompletter Workflow kann bis jetzt nicht von dem System automatisiert werden. Es wird immernoch menschlliches eingreigfen benötigt.
					</aside>
				</section>
				<section>
					<h3><strong>Workflow-Planer <u>unterstützt</u> bei administrativen Aufgaben</strong></h3>
				</section>
			</section>
			<section>
				<h3>Referenzen</h3>
				<ol>
					<li>Kinto Form Builder: <a target="_blank" rel="noopener noreferrer" href="https://github.com/Kinto/formbuilder">Github</a></li>
					<li>Formium Form Builder: <a target="_blank" rel="noopener noreferrer" href="https://formium.io/">formium.io</a></li>
					<li>Formik Form Library: <a target="_blank" rel="noopener noreferrer" href="https://formik.org/">formik.org</a></li>
					<li>JSONForms: <a target="_blank" rel="noopener noreferrer" href="https://jsonforms.io/">jsonforms.io</a></li>
					<li>ReactDnD: <a target="_blank" rel="noopener noreferrer" href="https://react-dnd.github.io/react-dnd/about">Webseite</a></li>
					<li>ReactDND: issue dragLayer: <a target="_blank" rel="noopener noreferrer" href="https://github.com/react-dnd/react-dnd/issues/592">Github</a></li>
					<li>ReactDND: issue CPU usage: <a target="_blank" rel="noopener noreferrer" href="https://github.com/react-dnd/react-dnd/issues/2621">Github</a></li>
				</ol>
			</section>
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script src="plugin/zoom/zoom.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			slideNumber: 'c/t',
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
		});
		Reveal.configure({ pdfSeparateFragments: false });
	</script>
</body>

</html>